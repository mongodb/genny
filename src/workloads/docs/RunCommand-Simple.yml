SchemaVersion: 2018-07-01
Owner: "@10gen/dev-prod-tips"
Description: |
  This workload demonstrates the RunCommand actor, which can be used
  to execute a command against the server.

Actors:
- Name: ServerStatusInsert
  Type: RunCommand
  Threads: 1
  Phases:
  - Repeat: 100
    Database: test
    Operations:
    - OperationMetricsName: ServerStatus
      OperationName: RunCommand
      OperationCommand:
        serverStatus: 1
    - OperationName: RunCommand
      OperationCommand:
        insert: myCollection
        documents: [{name: {^RandomString: {length: {^RandomInt: {min: 2, max: 5}}}}, rating: 10, address: someAddress, cuisine: italian}]

AutoRun:
- When:
    mongodb_setup:
      $eq:
      - standalone
      - standalone-classic-query-engine
      - standalone-dsi-integration-test
      - standalone-sbe
