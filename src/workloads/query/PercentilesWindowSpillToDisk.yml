SchemaVersion: 2018-07-01
Owner: Query Integration
Description: |
  This tests $percentile window functions with different partitions and indexes to test its behavior
  when it spills to disk. There are a few cases to consider
  1. Nothing spills.
  2. Only the $_internalSetWindowsFields will spill, which in this case would be the $percentile
  window function.
  3. Both the $sort and $_internalSetWindowsFields spill.
  There is a workload in SetWindowFieldsUnbounded.yml that handles the case if only the $sort spills,
  and since there is no unique behavior for $percentile in this case, it was not tested in this file.
  We can use an index to control whether or not the $sort will spill, and we change the size of the
  partition to control whether or not the $_internalSetWindowsFields will spill.

Keywords:
  - setWindowFields
  - percentile
  - spill

HasTasks: true
